<!DOCTYPE html>
<html>
    
<center><h1>The VK visualizer</h1></center>

<center><p>Enter An ID number</p></center>


<input id="vkId">

<center><button type="button" onclick="fetchFriends()">go</button></center>

<!-- <p id="demo"></p> -->
<!-- <center><p id="output"></p><center> -->
<center><p>Who is this person?</p></center>
<center><p id="friendDetails">let's find out</p></center>

<script>

function myFunction() {
    var x, text;

    // Get the value of the input field with id="numb"
    x = document.getElementById("numb").value;

    // If x is Not a Number or less than one or greater than 10
    if (isNaN(x) || x < 1 || x > 10) {
        text = "Input not valid";
    } else {
        text = "Input OK";
    }
    document.getElementById("demo").innerHTML = text;
}

function fetchDetails() {
    var x;
    x = document.getElementById("vkId").value;
    // document.getElementById("output").innerHTML = x;
    var script = document.createElement('SCRIPT');

//script.src = "https://api.vk.com/method/getProfiles?uid=66748&callback=callbackFunc";
//script.src = 'https://api.vk.com/method/friends.get?uid=66748&callback=callbackFunc';
//script.src = 'https://api.vk.com/method/users.get?uids=66748&lang=en&fields=first_name,last_name,city,country,universities,schools,sex,bdate,home_town&callback=callbackFunc'

    script.src = 'https://api.vk.com/method/users.get?uids='.concat(x,'&lang=en&fields=first_name,last_name,city,country,universities,schools,sex,bdate,home_town&callback=api_FetchDetails');

        document.getElementsByTagName("head")[0].appendChild(script);
    }



function api_FetchDetails(result) {
    console.log(result);
    document.getElementById("friendDetails").innerHTML = JSON.stringify(result);
}




</script>

</body>
</html> 
